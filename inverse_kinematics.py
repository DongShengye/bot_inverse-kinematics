
from scipy.optimize import fsolve
from math import exp,cos,sin


def right_leg_ik(x_end,y_end,z_end):
    def equations(vars):
        theta4,theta5,theta6 = vars
        eq1 = 80.0 - 150.0*cos(0.017453292519943295769236907684886*theta5) - 145.0*cos(0.017453292519943295769236907684886*theta4 + 0.017453292519943295769236907684886*theta5 + 1.5707963267948966192313216916398)-x_end
        eq2 = 36.0*cos(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795) - 150.0*sin(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta5) - 145.0*cos(0.017453292519943295769236907684886*theta4 + 1.5707963267948966192313216916398)*sin(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta5) - 145.0*sin(0.017453292519943295769236907684886*theta4 + 1.5707963267948966192313216916398)*sin(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795)*cos(0.017453292519943295769236907684886*theta5) - 39.0-y_end
        eq3 = 36.0*sin(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795) + 150.0*cos(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta5) + 145.0*cos(0.017453292519943295769236907684886*theta4 + 1.5707963267948966192313216916398)*cos(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta5) + 145.0*cos(0.017453292519943295769236907684886*theta6 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta4 + 1.5707963267948966192313216916398)*cos(0.017453292519943295769236907684886*theta5)-z_end
        return [eq1, eq2, eq3]

    theta4,theta5,theta6 =  fsolve(equations,(0, 0, 0))

    print(theta4,theta5,theta6)
    return theta4,theta5,theta6


def left_leg_ik(x_end,y_end,z_end):
    def equations(vars):
        theta1,theta2,theta3 = vars
        eq1 = 145.0*cos(0.017453292519943295769236907684886*theta2 + 0.017453292519943295769236907684886*theta3 + 1.5707963267948966192313216916398) - 150.0*cos(0.017453292519943295769236907684886*theta2) + 80.0-x_end
        eq2 = 150.0*sin(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta2) - 36.0*cos(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795) - 145.0*cos(0.017453292519943295769236907684886*theta3 + 1.5707963267948966192313216916398)*sin(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta2) - 145.0*sin(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta3 + 1.5707963267948966192313216916398)*cos(0.017453292519943295769236907684886*theta2) + 39.0-y_end
        eq3 = 145.0*cos(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795)*cos(0.017453292519943295769236907684886*theta3 + 1.5707963267948966192313216916398)*sin(0.017453292519943295769236907684886*theta2) - 150.0*cos(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta2) - 36.0*sin(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795) + 145.0*cos(0.017453292519943295769236907684886*theta1 + 3.1415926535897932384626433832795)*sin(0.017453292519943295769236907684886*theta3 + 1.5707963267948966192313216916398)*cos(0.017453292519943295769236907684886*theta2)-z_end
        return [eq1, eq2, eq3]

    theta1,theta2,theta3 =  fsolve(equations,(0, 0, 0))

    print(theta1,theta2,theta3)
    return theta1,theta2,theta3

# left_leg_ik(10,20,-180)

# right_leg_ik(10,-20,-180)